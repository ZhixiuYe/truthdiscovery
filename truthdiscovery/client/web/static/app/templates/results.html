<div ng-show="$ctrl.service.state == 'loading'" class="loading loading-lg"></div>
<div ng-show="$ctrl.service.state == 'has_results'">
    <h2>Results</h2>
    <p>
        Got results in <b>{{ $ctrl.service.results.time | number:7 }}</b> seconds
        (<b>{{ $ctrl.service.results.iterations || "N/A" }}</b> iterations)
    </p>

    <div>
        <h3>Source trust scores</h3>
        <table class="table table-hover striped">
            <thead>
                <tr>
                    <th>Source ID</th>
                    <th>Trust score</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="(source, trust) in $ctrl.service.results.trust">
                    <td>{{ (source - 0) + 1 }}</td>
                    <td>
                        <span ng-class="{'text-bold': trust == $ctrl.service.results.max_trust}">
                            {{ trust | number:7 }}
                        </span>
                        <span
                         ng-class="$ctrl.getDiffClass($ctrl.service.results.diff.trust[source])">

    {{ $ctrl.formatDiff($ctrl.service.results.diff.trust[source] | number:7) }}

                        </span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div>
        <h3>Claim belief scores</h3>
        <table class="claim-belief table table-hover">
            <thead>
                <tr>
                    <th>Variable ID</th>
                    <th>Value</th>
                    <th>Belief score</th>
                </tr>
            </thead>
            <tbody ng-repeat="(var, beliefs) in $ctrl.service.results.belief">
                <tr ng-repeat="(val, belief) in beliefs">
                    <td><span ng-if="$first">{{ (var - 0) + 1 }}</span></td>
                    <td>{{ val }}</td>
                    <td>

            <span ng-class="{'text-bold': belief == $ctrl.service.results.max_belief[var]}">
                {{ belief | number:7 }}
            </span>

                        <span
                         ng-class="$ctrl.getDiffClass($ctrl.service.results.diff.belief[var][val])">

    {{ $ctrl.formatDiff($ctrl.service.results.diff.belief[var][val] | number:7) }}

                        </span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
